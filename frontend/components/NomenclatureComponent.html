<!doctype html>
<html class="no-js" lang="">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="x-ua-compatible" content="ie=edge">
        <title>geonature documentation</title>
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">

        <link rel="icon" type="image/x-icon" href="../images/favicon.ico">
	      <link rel="stylesheet" href="../styles/style.css">
    </head>
    <body>

        <div class="navbar navbar-default navbar-fixed-top visible-xs">
            <a href="../" class="navbar-brand">geonature documentation</a>
            <button type="button" class="btn btn-default btn-menu ion-ios-menu" id="btn-menu"></button>
        </div>

        <div class="xs-menu menu" id="mobile-menu">
                <div id="book-search-input" role="search"><input type="text" placeholder="Type to search"></div>            <compodoc-menu></compodoc-menu>
        </div>

        <div class="container-fluid main">
           <div class="row main">
               <div class="hidden-xs menu">
                   <compodoc-menu mode="normal"></compodoc-menu>
               </div>
               <!-- START CONTENT -->
               <div class="content component">
                   <div class="content-data">




<ol class="breadcrumb">
  <li>Components</li>
  <li>NomenclatureComponent</li>
</ol>

<ul class="nav nav-tabs" role="tablist">
        <li class="active">
            <a href="#info" role="tab" id="info-tab" data-toggle="tab" data-link="info">Info</a>
        </li>
        <li >
            <a href="#source" role="tab" id="source-tab" data-toggle="tab" data-link="source">Source</a>
        </li>
        <li >
            <a href="#templateData" role="tab" id="templateData-tab" data-toggle="tab" data-link="template">Template</a>
        </li>
        <li >
            <a href="#styleData" role="tab" id="styleData-tab" data-toggle="tab" data-link="style">Styles</a>
        </li>
        <li >
            <a href="#tree" role="tab" id="tree-tab" data-toggle="tab" data-link="dom-tree">DOM Tree</a>
        </li>
</ul>

<div class="tab-content">
    <div class="tab-pane fade active in" id="c-info"><p class="comment">
    <h3>File</h3>
</p>
<p class="comment">
    <code>src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts</code>
</p>

    <p class="comment">
        <h3>Description</h3>
    </p>
    <p class="comment">
        <p>Ce composant permet de créer un &quot;input&quot; de type &quot;select&quot; ou &quot;multiselect&quot; à partir d&#39;une liste d&#39;items définie dans le référentiel de nomenclatures
(thésaurus) de GeoNature (table <code>ref_nomenclature.t_nomenclature</code>).</p>
<p>En mode &quot;multiselect&quot; (Input <code>multiSelect=true</code>), une barre de recherche permet de filtrée les nomenclatures sur leur label.</p>
<p>NB: La table <code>ref_nomenclatures.cor_taxref_nomenclature</code> permet de faire corespondre des items de nomenclature à des groupe INPN et des règne. A chaque fois que ces deux derniers input sont modifiés, la liste des items est rechargée.
Ce composant peut ainsi être couplé au composant taxonomy qui renvoie le regne et le groupe INPN de l&#39;espèce saisie.</p>

    </p>

    <p class="comment">
        <h3>Extends</h3>
    </p>
    <p class="comment">
            <code>GenericFormComponent</code>
    </p>

    <p class="comment">
        <h3>Implements</h3>
    </p>
    <p class="comment">
                    <code><a href="https://angular.io/api/core/OnInit" target="_blank" >OnInit</a></code>
                    <code><a href="https://angular.io/api/core/OnChanges" target="_blank" >OnChanges</a></code>
                    <code><a href="https://angular.io/api/core/OnDestroy" target="_blank" >OnDestroy</a></code>
    </p>

    <p class="comment">
        <h3>Example</h3>
    </p>
    <div class="io-description">
                <div>
                    <pre class="line-numbers"><code class="language-html">&lt;pnx-nomenclature
[parentFormControl]=&quot;occtaxForm.controls.id_nomenclature_etat_bio&quot;
codeNomenclatureType=&quot;ETA_BIO&quot;
[multiSelect]=true
keyValue='cd_nomenclature'
regne=&quot;Animalia&quot;
group2Inpn=&quot;Mammifères&quot;&gt;
&lt;/pnx-nomenclature&gt;</code></pre>
                </div>
    </div>

<section>
    <h3>Metadata</h3>
    <table class="table table-sm table-hover">
        <tbody>


            <tr>
                <td class="col-md-3">encapsulation</td>
                <td class="col-md-9"><code>ViewEncapsulation.None</code></td>
            </tr>









            <tr>
                <td class="col-md-3">selector</td>
                <td class="col-md-9"><code>pnx-nomenclature</code></td>
            </tr>

            <tr>
                <td class="col-md-3">styleUrls</td>
                <td class="col-md-9"><code>./nomenclature.component.scss</code></td>
            </tr>



            <tr>
                <td class="col-md-3">templateUrl</td>
                <td class="col-md-9"><code>./nomenclature.component.html</code></td>
            </tr>








        </tbody>
    </table>
</section>

    <section>
    <h3 id="index">Index</h3>
    <table class="table table-sm table-bordered index-table">
        <tbody>
                <tr>
                    <td class="col-md-4">
                        <h6><b>Properties</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#currentCdNomenclature">currentCdNomenclature</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#currentIdNomenclature">currentIdNomenclature</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#definitionLang">definitionLang</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#labelLang">labelLang</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#labels">labels</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#savedLabels">savedLabels</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#subscription">subscription</a>
                            </li>
                            <li>
                                    <span class="modifier">Public</span>
                                <a href="#valueSubscription">valueSubscription</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Methods</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#filterItems">filterItems</a>
                            </li>
                            <li>
                                <a href="#getCdNomenclature">getCdNomenclature</a>
                            </li>
                            <li>
                                <a href="#initLabels">initLabels</a>
                            </li>
                            <li>
                                <a href="#ngOnChanges">ngOnChanges</a>
                            </li>
                            <li>
                                <a href="#ngOnDestroy">ngOnDestroy</a>
                            </li>
                            <li>
                                <a href="#ngOnInit">ngOnInit</a>
                            </li>
                        </ul>
                    </td>
                </tr>

                <tr>
                    <td class="col-md-4">
                        <h6><b>Inputs</b></h6>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <ul class="index-list">
                            <li>
                                <a href="#bindAllItem">bindAllItem</a>
                            </li>
                            <li>
                                <a href="#codeNomenclatureType">codeNomenclatureType</a>
                            </li>
                            <li>
                                <a href="#group2Inpn">group2Inpn</a>
                            </li>
                            <li>
                                <a href="#keyValue">keyValue</a>
                            </li>
                            <li>
                                <a href="#regne">regne</a>
                            </li>
                        </ul>
                    </td>
                </tr>




        </tbody>
    </table>
</section>

    <section>
    <h3 id="constructor">Constructor</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
<code>constructor(_dfService: <a href="../injectables/DataFormService.html">DataFormService</a>, _translate: TranslateService)</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                <div class="io-line">Defined in <a href="" data-line="71" class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:71</a></div>
                            </td>
                        </tr>

                <tr>
                    <td class="col-md-4">
                            <div>
                                    <b>Parameters :</b>
                                    <table class="params">
                                        <thead>
                                            <tr>
                                                <td>Name</td>
                                                    <td>Type</td>
                                                <td>Optional</td>
                                            </tr>
                                        </thead>
                                        <tbody>
                                                <tr>
                                                        <td>_dfService</td>
                                                  
                                                        <td>
                                                                        <code><a href="../injectables/DataFormService.html" target="_self" >DataFormService</a></code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                                <tr>
                                                        <td>_translate</td>
                                                  
                                                        <td>
                                                                    <code>TranslateService</code>
                                                        </td>
                                                  
                                                    <td>
                                                            No
                                                    </td>
                                                    
                                                </tr>
                                        </tbody>
                                    </table>
                            </div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>

    <section>
    <h3 id="inputs">Inputs</h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="bindAllItem"></a>
                        <b>bindAllItem</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/boolean" target="_blank" >boolean</a></code>

                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Default value : </i><code>false</code>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="71" class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:71</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Booléan qui permet de passer tout l&#39;objet au formControl, et pas seulement une propriété de l&#39;objet renvoyé par l&#39;API.</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="codeNomenclatureType"></a>
                        <b>codeNomenclatureType</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="54" class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:54</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Mnémonique du type de nomenclature qui doit être affiché dans la liste déroulante.
  Table<code>ref_nomenclatures.bib_nomenclatures_types</code> (obligatoire)</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="group2Inpn"></a>
                        <b>group2Inpn</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="62" class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:62</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Filter group 2 INPN</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="keyValue"></a>
                        <b>keyValue</b>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="67" class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:67</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Attribut de l&#39;objet nomenclature renvoyé au formControl (facultatif, par défaut <code>id_nomenclature</code>).
Valeur possible: n&#39;importequel attribut de l&#39;objet <code>nomenclature</code> renvoyé par l&#39;API</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="regne"></a>
                        <b>regne</b>
                    </td>
                </tr>
                <tr>
                    <td class="col-md-4">
                        <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                    </td>
                </tr>
                        <tr>
                            <td class="col-md-2" colspan="2">
                                    <div class="io-line">Defined in <a href="" data-line="58" class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:58</a></div>
                            </td>
                        </tr>
                <tr>
                    <td class="col-md-4">
                        <div class="io-description"><p>Filter par regne taxonomique</p>
</div>
                    </td>
                </tr>
            </tbody>
        </table>
</section>



    <section>
    
    <h3 id="methods">
        Methods
    </h3>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="filterItems"></a>
                    <span class="name">
                        <b>
                            filterItems
                        </b>
                        <a href="#filterItems"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>filterItems(event)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="144"
                            class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:144</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>event</td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="getCdNomenclature"></a>
                    <span class="name">
                        <b>
                            getCdNomenclature
                        </b>
                        <a href="#getCdNomenclature"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>getCdNomenclature()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="102"
                            class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:102</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >any</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="initLabels"></a>
                    <span class="name">
                        <b>
                            initLabels
                        </b>
                        <a href="#initLabels"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>initLabels()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="129"
                            class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:129</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnChanges"></a>
                    <span class="name">
                        <b>
                            ngOnChanges
                        </b>
                        <a href="#ngOnChanges"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnChanges(changes: <a href="https://angular.io/api/core/SimpleChanges" target="_blank">SimpleChanges</a>)</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="114"
                            class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:114</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Parameters :</b>
                        <table class="params">
                            <thead>
                                <tr>
                                    <td>Name</td>
                                    <td>Type</td>
                                    <td>Optional</td>
                                </tr>
                            </thead>
                            <tbody>
                                <tr>
                                    <td>changes</td>
                                    <td>
                                                <code><a href="https://angular.io/api/core/SimpleChanges" target="_blank" >SimpleChanges</a></code>
                                    </td>

                                    <td>
                                        No
                                    </td>


                                </tr>
                            </tbody>
                        </table>
                    </div>
                    <div>
                    </div>
                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                    <div class="io-description">
                        
                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnDestroy"></a>
                    <span class="name">
                        <b>
                            ngOnDestroy
                        </b>
                        <a href="#ngOnDestroy"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnDestroy()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="139"
                            class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:139</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
    <table class="table table-sm table-bordered">
        <tbody>
            <tr>
                <td class="col-md-4">
                    <a name="ngOnInit"></a>
                    <span class="name">
                        <b>
                            ngOnInit
                        </b>
                        <a href="#ngOnInit"><span class="icon ion-ios-link"></span></a>
                    </span>
                </td>
            </tr>
            <tr>
                <td class="col-md-4">
<code>ngOnInit()</code>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">
                    <div class="io-line">Defined in <a href="" data-line="76"
                            class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:76</a></div>
                </td>
            </tr>


            <tr>
                <td class="col-md-4">

                    <div class="io-description">
                        <b>Returns : </b>        <code><a href="https://www.typescriptlang.org/docs/handbook/basic-types.html" target="_blank" >void</a></code>

                    </div>
                </td>
            </tr>
        </tbody>
    </table>
</section>
    <section>
    
        <h3 id="inputs">
            Properties
        </h3>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="currentCdNomenclature"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            currentCdNomenclature</b>
                            <a href="#currentCdNomenclature"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Default value : </i><code>&#x27;null&#x27;</code>
                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="47" class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:47</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="currentIdNomenclature"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            currentIdNomenclature</b>
                            <a href="#currentIdNomenclature"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/number" target="_blank" >number</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="48" class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:48</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="definitionLang"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            definitionLang</b>
                            <a href="#definitionLang"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="44" class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:44</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="labelLang"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            labelLang</b>
                            <a href="#labelLang"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>        <code><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/string" target="_blank" >string</a></code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="43" class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:43</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="labels"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            labels</b>
                            <a href="#labels"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Array&lt;any&gt;</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="42" class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:42</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="savedLabels"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            savedLabels</b>
                            <a href="#savedLabels"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="49" class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:49</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="subscription"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            subscription</b>
                            <a href="#subscription"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Subscription</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="45" class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:45</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
        <table class="table table-sm table-bordered">
            <tbody>
                <tr>
                    <td class="col-md-4">
                        <a name="valueSubscription"></a>
                        <span class="name">
                            <b>
                                <span class="modifier">Public</span>
                            valueSubscription</b>
                            <a href="#valueSubscription"><span class="icon ion-ios-link"></span></a>
                        </span>
                    </td>
                </tr>
                    <tr>
                        <td class="col-md-4">
                            <i>Type : </i>    <code>Subscription</code>

                        </td>
                    </tr>
                        <tr>
                            <td class="col-md-4">
                                    <div class="io-line">Defined in <a href="" data-line="46" class="link-to-prism">src/app/GN2CommonModule/form/nomenclature/nomenclature.component.ts:46</a></div>
                            </td>
                        </tr>


            </tbody>
        </table>
</section>

</div>


    <div class="tab-pane fade  tab-source-code" id="c-source">
        <pre class="line-numbers compodoc-sourcecode"><code class="language-typescript">import {
  Component,
  OnInit,
  Input,
  OnChanges,
  OnDestroy,
  SimpleChanges,
  ViewEncapsulation
} from &#x27;@angular/core&#x27;;
import { DataFormService } from &#x27;../data-form.service&#x27;;
import { TranslateService, LangChangeEvent } from &#x27;@ngx-translate/core&#x27;;
import { Subscription } from &#x27;rxjs/Subscription&#x27;;
import { GenericFormComponent } from &#x27;@geonature_common/form/genericForm.component&#x27;;

/**
 * Ce composant permet de créer un &quot;input&quot; de type &quot;select&quot; ou &quot;multiselect&quot; à partir d&#x27;une liste d&#x27;items définie dans le référentiel de nomenclatures
 * (thésaurus) de GeoNature (table &#x60;&#x60;ref_nomenclature.t_nomenclature&#x60;&#x60;).
 *
 * En mode &quot;multiselect&quot; (Input &#x60;&#x60;multiSelect&#x3D;true&#x60;&#x60;), une barre de recherche permet de filtrée les nomenclatures sur leur label.
 *
 * NB: La table &#x60;&#x60;ref_nomenclatures.cor_taxref_nomenclature&#x60;&#x60; permet de faire corespondre des items de nomenclature à des groupe INPN et des règne. A chaque fois que ces deux derniers input sont modifiés, la liste des items est rechargée.
 * Ce composant peut ainsi être couplé au composant taxonomy qui renvoie le regne et le groupe INPN de l&#x27;espèce saisie.
 *
 * @example
 * &lt;pnx-nomenclature
 * [parentFormControl]&#x3D;&quot;occtaxForm.controls.id_nomenclature_etat_bio&quot;
 * codeNomenclatureType&#x3D;&quot;ETA_BIO&quot;
 * [multiSelect]&#x3D;true
 *  keyValue&#x3D;&#x27;cd_nomenclature&#x27;
 *  regne&#x3D;&quot;Animalia&quot;
 * group2Inpn&#x3D;&quot;Mammifères&quot;&gt;
 * &lt;/pnx-nomenclature&gt;
 */
@Component({
  selector: &#x27;pnx-nomenclature&#x27;,
  templateUrl: &#x27;./nomenclature.component.html&#x27;,
  styleUrls: [&#x27;./nomenclature.component.scss&#x27;],
  encapsulation: ViewEncapsulation.None
})
export class NomenclatureComponent extends GenericFormComponent
  implements OnInit, OnChanges, OnDestroy {
  public labels: Array&lt;any&gt;;
  public labelLang: string;
  public definitionLang: string;
  public subscription: Subscription;
  public valueSubscription: Subscription;
  public currentCdNomenclature &#x3D; &#x27;null&#x27;;
  public currentIdNomenclature: number;
  public savedLabels;
  /**
   * Mnémonique du type de nomenclature qui doit être affiché dans la liste déroulante.
   *  Table&#x60;&#x60;ref_nomenclatures.bib_nomenclatures_types&#x60;&#x60; (obligatoire)
   */
  @Input() codeNomenclatureType: string;
  /**
   * Filter par regne taxonomique
   */
  @Input() regne: string;
  /**
   * Filter group 2 INPN
   */
  @Input() group2Inpn: string;
  /**
   * Attribut de l&#x27;objet nomenclature renvoyé au formControl (facultatif, par défaut &#x60;&#x60;id_nomenclature&#x60;&#x60;).
   * Valeur possible: n&#x27;importequel attribut de l&#x27;objet &#x60;&#x60;nomenclature&#x60;&#x60; renvoyé par l&#x27;API
   */
  @Input() keyValue;
  /**
   * Booléan qui permet de passer tout l&#x27;objet au formControl, et pas seulement une propriété de l&#x27;objet renvoyé par l&#x27;API.
   */
  @Input() bindAllItem: boolean &#x3D; false;
  constructor(private _dfService: DataFormService, private _translate: TranslateService) {
    super();
  }

  ngOnInit() {
    this.keyValue &#x3D; this.keyValue || &#x27;id_nomenclature&#x27;;
    this.labelLang &#x3D; &#x27;label_&#x27; + this._translate.currentLang;
    this.definitionLang &#x3D; &#x27;definition_&#x27; + this._translate.currentLang;
    // load the data
    this.initLabels();
    // subscrib to the language change
    this.subscription &#x3D; this._translate.onLangChange.subscribe((event: LangChangeEvent) &#x3D;&gt; {
      this.labelLang &#x3D; &#x27;label_&#x27; + this._translate.currentLang;
      this.definitionLang &#x3D; &#x27;definition_&#x27; + this._translate.currentLang;
    });

    // set cdNomenclature
    this.valueSubscription &#x3D; this.parentFormControl.valueChanges.subscribe(id &#x3D;&gt; {
      this.currentIdNomenclature &#x3D; id;
      const self &#x3D; this;
      if (this.labels) {
        this.labels.forEach(label &#x3D;&gt; {
          if (this.currentIdNomenclature &#x3D;&#x3D;&#x3D; label.id_nomenclature) {
            self.currentCdNomenclature &#x3D; label.cd_nomenclature;
          }
        });
      }
    });
  }

  getCdNomenclature() {
    let cdNomenclature;
    if (this.labels) {
      this.labels.forEach(label &#x3D;&gt; {
        if (this.currentIdNomenclature &#x3D;&#x3D;&#x3D; label.id_nomenclature) {
          cdNomenclature &#x3D; label.cd_nomenclature;
        }
      });
      return cdNomenclature;
    }
  }

  ngOnChanges(changes: SimpleChanges) {
    // if change regne &#x3D;&gt; change groupe2inpn also
    if (changes.regne !&#x3D;&#x3D; undefined &amp;&amp; !changes.regne.firstChange) {
      this.initLabels();
    }
    // if only change groupe2inpn
    if (
      changes.regne &#x3D;&#x3D;&#x3D; undefined &amp;&amp;
      changes.group2Inpn !&#x3D;&#x3D; undefined &amp;&amp;
      !changes.group2Inpn.firstChange
    ) {
      this.initLabels();
    }
  }

  initLabels() {
    const filters &#x3D; { orderby: &#x27;label_default&#x27; };
    this._dfService
      .getNomenclature(this.codeNomenclatureType, this.regne, this.group2Inpn, filters)
      .subscribe(data &#x3D;&gt; {
        this.labels &#x3D; data.values;
        this.savedLabels &#x3D; data.values;
      });
  }

  ngOnDestroy() {
    this.subscription.unsubscribe();
    this.valueSubscription.unsubscribe();
  }

  filterItems(event) {
    if (this.searchBar &amp;&amp; event) {
      this.labels &#x3D; this.savedLabels.filter(el &#x3D;&gt; {
        const isIn &#x3D; el.label_default.toUpperCase().indexOf(event.toUpperCase());
        return isIn !&#x3D;&#x3D; -1;
      });
    }
  }
}
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-templateData">
        <pre class="line-numbers"><code class="language-html">&lt;div *ngIf&#x3D;&quot;multiSelect; else elseBlock&quot;&gt;
  &lt;pnx-multiselect [values]&#x3D;&quot;labels&quot; [parentFormControl]&#x3D;&quot;parentFormControl&quot; keyLabel&#x3D;&quot;label_default&quot; [keyValue]&#x3D;&quot;keyValue&quot;
    [label]&#x3D;&quot;label&quot; debounceTime&#x3D;&quot;500&quot; [searchBar]&#x3D;&quot;searchBar&quot; [disabled]&#x3D;&quot;disabled&quot; (onSearch)&#x3D;&quot;filterItems($event)&quot;
    [bindAllItem]&#x3D;&quot;bindAllItem&quot;&gt;
  &lt;/pnx-multiselect&gt;
&lt;/div&gt;

&lt;ng-template #elseBlock&gt;

  &lt;small&gt; {{label}} &lt;/small&gt;
  &lt;div class&#x3D;&quot;input-group&quot;&gt;
    &lt;select class&#x3D;&quot;form-control form-control-sm&quot; [disableControl]&#x3D;&quot;disabled&quot; [formControl]&#x3D;&quot;parentFormControl&quot;&gt;
      &lt;option *ngFor&#x3D;&quot;let label of labels&quot; [ngValue]&#x3D;&quot;label[keyValue]&quot; [title]&#x3D;&quot;label[definitionLang]&quot;&gt;
        {{label[labelLang]}} &lt;/option&gt;
    &lt;/select&gt;
  &lt;/div&gt;
&lt;/ng-template&gt;
</code></pre>
    </div>

    <div class="tab-pane fade " id="c-styleData">
                <p class="comment">
                    <code>./nomenclature.component.scss</code>
                </p>
                <pre class="line-numbers"><code class="language-scss">select{
  height: 1.5rem;
}

</code></pre>
    </div>

    <div class="tab-pane fade " id="c-tree">
        <div id="tree-container"></div>
        <div class="tree-legend">
            <div class="title">
                <b>Legend</b>
            </div>
            <div>
                <div class="color htmlelement"></div><span>Html element</span>
            </div>
            <div>
                <div class="color component"></div><span>Component</span>
            </div>
            <div>
                <div class="color directive"></div><span>Html element with directive</span>
            </div>
        </div>
    </div>

    
</div>

<script src="../js/libs/vis.min.js"></script>
<script src="../js/libs/htmlparser.js"></script>
<script src="../js/libs/deep-iterator.js"></script>
<script>
        var COMPONENT_TEMPLATE = '<div><div *ngIf="multiSelect; else elseBlock">  <pnx-multiselect [values]="labels" [parentFormControl]="parentFormControl" keyLabel="label_default" [keyValue]="keyValue"    [label]="label" debounceTime="500" [searchBar]="searchBar" [disabled]="disabled" (onSearch)="filterItems($event)"    [bindAllItem]="bindAllItem">  </pnx-multiselect></div><ng-template #elseBlock>  <small> {{label}} </small>  <div class="input-group">    <select class="form-control form-control-sm" [disableControl]="disabled" [formControl]="parentFormControl">      <option *ngFor="let label of labels" [ngValue]="label[keyValue]" [title]="label[definitionLang]">        {{label[labelLang]}} </option>    </select>  </div></ng-template></div>'
    var COMPONENTS = [{'name': 'AcquisitionFrameworksComponent', 'selector': 'pnx-acquisition-frameworks'},{'name': 'ActorComponent', 'selector': 'pnx-metadata-actor'},{'name': 'AdminComponent', 'selector': 'pnx-admin'},{'name': 'AfFormComponent', 'selector': 'pnx-af-form'},{'name': 'AfListComponent', 'selector': 'pnx-af-list'},{'name': 'AppComponent', 'selector': 'pnx-root'},{'name': 'AreasComponent', 'selector': 'pnx-areas'},{'name': 'AreasIntersectedComponent', 'selector': 'pnx-areas-intersected-modal'},{'name': 'DatasetFormComponent', 'selector': 'pnx-datasets-form'},{'name': 'DatasetListComponent', 'selector': 'pnx-dataset-list'},{'name': 'DatasetsComponent', 'selector': 'pnx-datasets'},{'name': 'DateComponent', 'selector': 'pnx-date'},{'name': 'DynamicFormComponent', 'selector': 'pnx-dynamic-form'},{'name': 'ExportsComponent', 'selector': 'pnx-exports-component'},{'name': 'FooterComponent', 'selector': 'pnx-footer'},{'name': 'GenericFormGeneratorComponent', 'selector': 'pnx-dynamic-form-generator'},{'name': 'GeojsonComponent', 'selector': 'pnx-geojson'},{'name': 'GPSComponent', 'selector': 'pnx-gps'},{'name': 'HomeContentComponent', 'selector': 'pnx-home-content'},{'name': 'IntroductionComponent', 'selector': 'pnx-introduction'},{'name': 'LeafletDrawComponent', 'selector': 'pnx-leaflet-draw'},{'name': 'LeafletFileLayerComponent', 'selector': 'pnx-leaflet-filelayer'},{'name': 'LoginComponent', 'selector': 'pnx-login'},{'name': 'MapComponent', 'selector': 'pnx-map'},{'name': 'MapDataComponent', 'selector': 'pnx-map-data'},{'name': 'MapListComponent', 'selector': 'pnx-map-list'},{'name': 'MapListGenericFiltersComponent', 'selector': 'pnx-map-list-generic-filter'},{'name': 'MarkerComponent', 'selector': 'pnx-marker'},{'name': 'MetadataComponent', 'selector': 'pnx-metadata'},{'name': 'ModalDownloadComponent', 'selector': 'pnx-modal-download'},{'name': 'ModalInfoObsComponent', 'selector': 'pnx-synthese-modal-info-obs'},{'name': 'MultiSelectComponent', 'selector': 'pnx-multiselect'},{'name': 'MunicipalitiesComponent', 'selector': 'pnx-municipalities'},{'name': 'NavHomeComponent', 'selector': 'pnx-nav-home'},{'name': 'NomenclatureComponent', 'selector': 'pnx-nomenclature'},{'name': 'ObserversComponent', 'selector': 'pnx-observers'},{'name': 'ObserversTextComponent', 'selector': 'pnx-observers-text'},{'name': 'PageNotFoundComponent', 'selector': 'pnx-page-not-found'},{'name': 'PeriodComponent', 'selector': 'pnx-period'},{'name': 'SidenavItemsComponent', 'selector': 'pnx-sidenav-items'},{'name': 'SyntheseCarteComponent', 'selector': 'pnx-synthese-carte'},{'name': 'SyntheseComponent', 'selector': 'pnx-synthese'},{'name': 'SyntheseListComponent', 'selector': 'pnx-synthese-list'},{'name': 'SyntheseModalDownloadComponent', 'selector': 'pnx-synthese-modal-download'},{'name': 'SyntheseSearchComponent', 'selector': 'pnx-synthese-search'},{'name': 'TaxonAdvancedModalComponent', 'selector': 'pnx-taxon-advanced'},{'name': 'TaxonomyComponent', 'selector': 'pnx-taxonomy'}];
    var DIRECTIVES = [{'name': 'DisableControlDirective', 'selector': '[disableControl]'}];
    var ACTUAL_COMPONENT = {'name': 'NomenclatureComponent'};
</script>
<script src="../js/tree.js"></script>














                   </div><div class="search-results">
    <div class="has-results">
        <h1 class="search-results-title"><span class='search-results-count'></span> result-matching "<span class='search-query'></span>"</h1>
        <ul class="search-results-list"></ul>
    </div>
    <div class="no-results">
        <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
    </div>
</div>
</div>
               <!-- END CONTENT -->
           </div>
       </div>

       <script>
            var COMPODOC_CURRENT_PAGE_DEPTH = 1;
            var COMPODOC_CURRENT_PAGE_CONTEXT = 'component';
            var COMPODOC_CURRENT_PAGE_URL = 'NomenclatureComponent.html';
       </script>

       <script src="../js/libs/custom-elements.min.js"></script>
       <script src="../js/libs/lit-html.js"></script>
       <!-- Required to polyfill modern browsers as code is ES5 for IE... -->
       <script src="../js/libs/custom-elements-es5-adapter.js" charset="utf-8" defer></script>
       <script src="../js/menu-wc.js" defer></script>

       <script src="../js/libs/bootstrap-native.js"></script>

       <script src="../js/libs/es6-shim.min.js"></script>
       <script src="../js/libs/EventDispatcher.js"></script>
       <script src="../js/libs/promise.min.js"></script>
       <script src="../js/libs/zepto.min.js"></script>

       <script src="../js/compodoc.js"></script>

       <script src="../js/tabs.js"></script>
       <script src="../js/menu.js"></script>
       <script src="../js/libs/clipboard.min.js"></script>
       <script src="../js/libs/prism.js"></script>
       <script src="../js/sourceCode.js"></script>
          <script src="../js/search/search.js"></script>
          <script src="../js/search/lunr.min.js"></script>
          <script src="../js/search/search-lunr.js"></script>
          <script src="../js/search/search_index.js"></script>
       <script src="../js/lazy-load-graphs.js"></script>


    </body>
</html>
